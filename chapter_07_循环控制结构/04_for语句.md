# 04_for语句

C语言中，使用for语句也可以控制一个循环，并且在每次循环时修改循环变量。在循环语句中，for语句的应用最为灵活，可以用于循环次数确定的情况，还可以用于循环次数不确定但给出了循环结束条件的情况。

## for循环语句

```C
for(表达式1;表达式2;表达式3){
    语句;
}
```

每条`for`语句包含3个用分号隔开的表达式。这3个表达式用一对圆括号括起来，其后紧跟着循环语句或语句块。当执行到`for`语句时，程序首先计算第1个表达式的值，接着计算第2个表达式的值。如果第2个表达式的值为真，程序就执行循环体的内容，并计算第3个表达式；然后检验第2个表达式，执行循环；如此反复，直到第2个表达式的值为假，退出循环。

## for循环的变体

- `for`语句中省略表达式1：表达式1的作用是对循环变量设置初值，如果省略了表达式1，就会影响对表达式2（即循环条件）的判断。为保证程序正常运行，应在`for`语句之前先给循环变量赋值。

> 省略表达式1时，其后的分号不能省略，要格外注意。

- `for`语句中省略表达式2：表达式2给出的是循环条件，如果表达式2省略，则无法判断循环条件，也即默认表达式2始终为真，因此循环将无终止地进行下去，因此，`for`语句中表达式2是不能省略的。
- `for`语句中省略表达式3：表达式3用于改变循环变量，可以省略，但此时程序设计人员应在循环体内增加类似功能的语句，以保证循环能正常结束，否则程序也会无终止地循环下去。

## for循环中的逗号应用

在`for`语句中，表达式1和表达式3处除了可以使用简单的表达式，还可以使用逗号表达式，即包含一个以上的简单表达式，中间用逗号间隔。

也就是说，表达式1和表达式3都可以是逗号表达式。在逗号表达式内按照自左至右顺序求解，整个逗号表达式的值为其最右边的表达式的值。

> 浮点值的误差是不可避免的。如果在`for`循环的条件表达式中使用浮点值，那么将导致数值错误。因此，建议开发者不要使用浮点类型定义`for`语句的循环变量。