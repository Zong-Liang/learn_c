# 03_字符数组

数组中的元素类型为字符型时，称为字符数组。字符数组中的每个元素可以存放一个字符。字符数组的定义和引用方法与其他数据类型相似。

## 字符数组的定义

```c
char 数组标识符[常量表达式];
```

```c
char array[5];
```

## 字符数组的引用

字符数组的引用也采用下标的形式。

```c
array[0] = 'h';
array[1] = 'e';
array[2] = 'l';
array[3] = 'l';
array[4] = 'o';
```

## 字符数组的初始化

- 逐个字符赋给数组中的元素。

```c
char array[5] = {'h','e','l','l','o'};
```

- 定义字符数组的同时进行初始化，此时可以省略数组长度。

```c
char array[] = {'h','e','l','l','o'};
```

> 如果初值个数与预定的数组长度相同，在定义时可以省略数组长度，系统会自动根据初值个数来确定数组长度。

- 利用字符串给字符数组赋初值。

```c
char array[5] = {"hello"};
char array[5] = "hello";
```

## 字符数组的结束标志

在C语言中，使用字符数组保存字符串时，系统会自动为其添加“\0”作为结束符。也就是说，用字符串方式赋值比用字符逐个赋值要多占一个字节，多占的这个字节用于存放字符串结束标志“\0”。

```c
char array[] = {"hello"};
char array[] = {'h','e','l','l','o','\0'};
```

字符数组并不要求最后一个字符为“\0” ， 甚至可以不包含“\0”。

```c
char array[] = {'h','e','l','l','o'};
```

是否加“\0”，应根据需要来决定。由于系统对字符串常量会自动加一个“\0”，因此，为了使处理方法一致，且便于测定字符串的实际长度，在字符数组中也常常人为地加上一个“\0”。

```c
char array[] = {'h','e','l','l','o', '\0'};
```

> 如果在一个字符数组中先后存放多个不同长度的字符串，则应使数组长度大于最长的那个字符串的长度。

## 字符数组的输入和输出

字符数组的输入和输出可以使用两种格式字符：“%c”和“%s”。

使用格式字符“%c”可实现数组中字符的逐个输入与输出。

```c
for(int i = 0; i < 5; i++;){
    printf("%c",array[i]);
}
```

使用格式字符“%s”可将整个字符串输入或输出。

```c
char array[] = "hello";
printf("%s", array);
```

使用格式字符“%s”输出字符串时，需要注意以下几种情况。

- 输出字符中不包括结束符“\0”。

- `printf`函数中的输出项是字符数组名`array`，而不是数组中的元素名`array[0]`等。

- 即使数组长度大于字符串实际长度，也只会输出到“\0”为止。
- 如果一个字符数组中包含多个“\0”结束字符，则在遇到第一个“\0”时输出就结束。

> C语言中只存在字符类型，不存在字符串类型。字符类型只能存放单个字符，如果要存放字符串，就需要使用字符数组。当然，也可以使用字符型指针存放字符串。